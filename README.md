## Software Development for Information Systems.-Project-2
 Ανάλυση λογισμικού για πληροφοριακά συστήματα Εργασία 2



### Μεταγλώτιση και εκτέλεση

#### Mεταγλώτιση

 ```bash
make
```
#### Εκτέλεση

```bash
./EXEC/sort_join
```

### Περιγραφή λειτουργικότητας
  
  
 Η διαδικασία που ακολουθήσαμε βασίστηκε εξ΄ολοκλήρου στις οδηγίες που είχαν δωθεί κατα την παράδωση χωρίς να γίνουν κάποιες παραδοχές.
Ωστόσο μια σύντομη αναφορά της υλοποίησης μας είναι η εξής

 #### Αποθήκευεση Δεδομένων

* Διαβάζουμε το αρχείο με τις σχέσσεις και το αποθηκεύουμε στη δομή all_data που είναι ένας πίνακας με δείκτες στη δομή relation_data. Κάθε relation_data έχει δείκτες στην αρχή κάθε coloumn τη σχέσης. Κάθε φορά που διαβάζουμε νέα σχέση η δομή all_data επεκτείνεται κατά 1.
Όταν ο χρήστης πατήσει "Done" τελειώνει και η ανάγνωση τον σχέσεων.

* Το αρχείο με τα Queries αποθηκεύεται στη δομή Batches η οποία κρατάει όλα τα Batches και έχει δείκτες στη δομή Batch_lines που εκεί κρατάμε κάθε query ξεχωριστά

* Οι σχέσεις, τα κατηγορήματα και οι προβολές αποθηκεύονται σε ξεχωριστές δομές (predicates, check sums) όπου έκει κρατάμε και τις πληροφορίες που χρειάζονται κάθε φορά, όπως το σε ποιά σχέση αναφερόμαστε κάθε φορά(rel_origin) και ποια είναι η αντίστοιχή της στο ερώτημα(rel_alias).

#### Εκτέλεση Ερωτημάτων

 * Αρχικά εκτελούνται τα φίλτρα των ερωτημάτων για να μειωθεί το μέγεθος των πινάκων. Τα rowid των σχέσεων που φιλτράρονται αποθηκεύονται στη δομή Between, στον πίνακα farrays
 
 * Αντίστοιχα στην ίδια δομή, στον πίνακα jarrays, αποθηκεύονται τα rowidκαι οι ζεύξεις των σχέσεων. Αν έχει προηγηθεί ζεύξη με ίδια σχέση οι δομή μέσω της συνάρτησης Updated_joined() ενημερώνεται κατάλληλα.
 
 * Αν έχουν συμμετάσχει δύο σχέσεις σε κάποια ζεύξη και στη συνέχεια ξαναζητηθούν τότε η εκάστοτε ζεύξη εκτελείται ως φίλτρο.

#### Έλεγχος αθροισμάτων

* Στην συνάρτηση print_check_sums() αναλόγως τις προβολές του κάθε ερωτήματος απλά σαρώνουμε τους jarrays και αθροίζουμε όλα τα payloads που υπάρχουν στο αντίστοιχο coloumn.

### Χρόνος Εκτέλεσης

Ο χρόνος εκτέλεσης για το small αρχείο είναι της τάξης των λίγων δευτερολέπτων.









